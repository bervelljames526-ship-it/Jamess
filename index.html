<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JB'S ONE-STOP SHOP | Men's Apparel & Accessories</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Oswald:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1a1d24;
            --secondary: #2c3e50;
            --accent: #e74c3c;
            --highlight: #f39c12;
            --light: #ecf0f1;
            --dark: #121417;
            --text: #333333;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            color: var(--text);
            background-color: #f5f5f5;
            line-height: 1.6;
        }

        h1, h2, h3, h4, h5 {
            font-family: 'Oswald', sans-serif;
            font-weight: 600;
            color: var(--primary);
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background-color: var(--primary);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo h1 {
            font-size: 24px;
            color: var(--light);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .logo span {
            color: var(--highlight);
        }

        .logo-icon {
            color: var(--highlight);
            font-size: 28px;
            margin-right: 10px;
        }

        .top-bar {
            background-color: var(--secondary);
            color: var(--light);
            padding: 8px 0;
            font-size: 14px;
        }

        .top-bar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .top-bar-info {
            display: flex;
            gap: 20px;
        }

        .top-bar-info a {
            color: var(--light);
            text-decoration: none;
            transition: color 0.3s;
        }

        .top-bar-info a:hover {
            color: var(--highlight);
        }

        .top-bar-info i {
            margin-right: 5px;
        }

        .discount-banner {
            background-color: var(--accent);
            color: white;
            padding: 5px 0;
            text-align: center;
            font-weight: 600;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav li {
            margin-left: 30px;
        }

        nav a {
            color: var(--light);
            text-decoration: none;
            font-weight: 500;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: color 0.3s;
            position: relative;
        }

        nav a:hover {
            color: var(--highlight);
        }

        nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: var(--highlight);
            left: 0;
            bottom: -5px;
            transition: width 0.3s;
        }

        nav a:hover::after {
            width: 100%;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-menu {
            position: relative;
        }

        .user-btn {
            background: none;
            border: none;
            color: var(--light);
            font-size: 22px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .user-dropdown {
            position: absolute;
            top: 40px;
            right: 0;
            background: white;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            min-width: 200px;
            display: none;
            z-index: 1001;
        }

        .user-dropdown.active {
            display: block;
        }

        .user-dropdown a {
            display: block;
            padding: 12px 20px;
            color: var(--text);
            text-decoration: none;
            border-bottom: 1px solid #eee;
            font-size: 14px;
            text-transform: none;
        }

        .user-dropdown a:hover {
            background: #f5f5f5;
            color: var(--primary);
        }

        .user-dropdown a i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .cart-icon {
            position: relative;
            color: var(--light);
            font-size: 22px;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--accent);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .whatsapp-header {
            background-color: #25D366;
            color: white;
            padding: 8px 15px;
            border-radius: 4px;
            font-weight: 600;
            display: flex;
            align-items: center;
            text-decoration: none;
            transition: all 0.3s;
        }

        .whatsapp-header:hover {
            background-color: #128C7E;
            transform: translateY(-2px);
        }

        .whatsapp-header i {
            margin-right: 8px;
            font-size: 18px;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--light);
            font-size: 24px;
            cursor: pointer;
        }

        /* Notification Bell */
        .notification-bell {
            position: relative;
            color: var(--light);
            font-size: 22px;
            cursor: pointer;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--accent);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(26, 29, 36, 0.85), rgba(26, 29, 36, 0.9)), url('https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            text-align: center;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h2 {
            font-size: 48px;
            color: white;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .hero h2 span {
            color: var(--highlight);
        }

        .hero p {
            font-size: 20px;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .cta-button {
            display: inline-block;
            background-color: var(--accent);
            color: white;
            padding: 15px 35px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 600;
            font-size: 18px;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }

        .cta-button:hover {
            background-color: #c0392b;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* Services Section */
        .services {
            background-color: white;
            padding: 60px 0;
            margin: 40px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            text-align: center;
        }

        .service-item {
            padding: 20px;
        }

        .service-icon {
            background-color: var(--secondary);
            color: var(--highlight);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 28px;
        }

        .service-item h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: var(--primary);
        }

        /* Categories Section */
        .section-title {
            text-align: center;
            margin: 60px 0 40px;
            position: relative;
        }

        .section-title h2 {
            font-size: 36px;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: inline-block;
            padding-bottom: 10px;
        }

        .section-title h2::after {
            content: '';
            position: absolute;
            width: 100px;
            height: 4px;
            background: var(--accent);
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 80px;
        }

        .category-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
            text-align: center;
            position: relative;
        }

        .category-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .category-img {
            height: 200px;
            width: 100%;
            object-fit: cover;
        }

        .category-content {
            padding: 25px 20px;
        }

        .category-content h3 {
            font-size: 22px;
            margin-bottom: 10px;
            color: var(--secondary);
        }

        .category-content p {
            color: #666;
            margin-bottom: 20px;
        }

        .category-button {
            background-color: var(--secondary);
            color: white;
            padding: 10px 25px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 0.5px;
            transition: background-color 0.3s;
        }

        .category-button:hover {
            background-color: var(--primary);
        }

        /* Products Section */
        .products {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 80px;
        }

        .product-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
        }

        .product-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: var(--accent);
            color: white;
            padding: 5px 10px;
            border-radius: 3px;
            font-weight: 600;
            font-size: 12px;
            z-index: 2;
        }

        .product-img {
            height: 250px;
            width: 100%;
            object-fit: cover;
        }

        .product-content {
            padding: 20px;
        }

        .product-category {
            color: var(--accent);
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }

        .product-title {
            font-size: 18px;
            margin-bottom: 10px;
            color: var(--dark);
            font-weight: 600;
        }

        .product-rating {
            color: var(--highlight);
            margin-bottom: 10px;
            font-size: 14px;
        }

        .product-price {
            color: var(--primary);
            font-weight: 700;
            font-size: 22px;
            margin-bottom: 15px;
        }

        .product-price span {
            font-size: 14px;
            font-weight: 400;
            color: #777;
        }

        .old-price {
            text-decoration: line-through;
            color: #999 !important;
            font-size: 16px !important;
            margin-right: 10px;
        }

        .add-to-cart {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .add-to-cart:hover {
            background-color: var(--primary);
        }

        /* Product Detail Modal */
        .product-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1002;
            overflow-y: auto;
        }

        .product-modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .product-modal-content {
            background: white;
            width: 90%;
            max-width: 1000px;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            z-index: 10;
        }

        .product-detail-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        .product-detail-images {
            display: grid;
            grid-template-columns: 100px 1fr;
            gap: 15px;
        }

        .product-thumbnails {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .product-thumbnail {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 5px;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .product-thumbnail.active {
            border-color: var(--accent);
        }

        .product-main-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 8px;
        }

        .product-detail-info h2 {
            font-size: 28px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .product-price-large {
            font-size: 32px;
            color: var(--accent);
            font-weight: 700;
            margin-bottom: 20px;
        }

        .product-options {
            margin: 20px 0;
        }

        .option-group {
            margin-bottom: 20px;
        }

        .option-group h4 {
            margin-bottom: 10px;
            color: var(--secondary);
        }

        .option-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .option-btn {
            padding: 8px 15px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option-btn.active {
            border-color: var(--accent);
            background-color: rgba(231, 76, 60, 0.1);
        }

        .option-btn:hover:not(.active) {
            border-color: #999;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            margin: 20px 0;
        }

        .quantity-btn {
            width: 40px;
            height: 40px;
            background: #f5f5f5;
            border: 1px solid #ddd;
            font-size: 18px;
            cursor: pointer;
        }

        .quantity-input {
            width: 60px;
            height: 40px;
            text-align: center;
            border: 1px solid #ddd;
            border-left: none;
            border-right: none;
            font-size: 16px;
        }

        /* Related Products */
        .related-products {
            margin-top: 40px;
            padding-top: 40px;
            border-top: 1px solid #eee;
        }

        .related-products h3 {
            margin-bottom: 20px;
            color: var(--primary);
        }

        .related-products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        /* Checkout Page */
        .checkout-container {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 40px;
            margin: 40px 0;
        }

        .checkout-form {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .checkout-form h2 {
            margin-bottom: 25px;
            color: var(--primary);
            border-bottom: 2px solid var(--accent);
            padding-bottom: 10px;
        }

        .form-section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .form-section h3 {
            margin-bottom: 15px;
            color: var(--secondary);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Montserrat', sans-serif;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .payment-method {
            border: 2px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .payment-method.active {
            border-color: var(--accent);
            background-color: rgba(231, 76, 60, 0.05);
        }

        .payment-method i {
            font-size: 30px;
            margin-bottom: 10px;
            display: block;
        }

        .payment-method.mtn {
            color: #FFCC00;
        }

        .payment-method.telecel {
            color: #EF4123;
        }

        .payment-method.card {
            color: #1A1F71;
        }

        .payment-method.bank {
            color: #006B3F;
        }

        .order-summary {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .order-summary h3 {
            margin-bottom: 20px;
            color: var(--primary);
            border-bottom: 2px solid var(--accent);
            padding-bottom: 10px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .summary-total {
            display: flex;
            justify-content: space-between;
            font-size: 20px;
            font-weight: 700;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #ddd;
            color: var(--primary);
        }

        .delivery-estimate {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            font-size: 14px;
        }

        .delivery-estimate i {
            color: var(--accent);
            margin-right: 10px;
        }

        /* Admin Upload Form */
        .upload-container {
            max-width: 800px;
            margin: 40px auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .upload-form h2 {
            margin-bottom: 25px;
            color: var(--primary);
            border-bottom: 2px solid var(--accent);
            padding-bottom: 10px;
        }

        .upload-area {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .upload-area:hover {
            border-color: var(--accent);
            background: rgba(231, 76, 60, 0.05);
        }

        .upload-area i {
            font-size: 48px;
            color: #ddd;
            margin-bottom: 20px;
        }

        .upload-area p {
            color: #777;
        }

        .preview-images {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .preview-image {
            position: relative;
            width: 100px;
            height: 100px;
            border-radius: 5px;
            overflow: hidden;
        }

        .preview-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .remove-image {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(0,0,0,0.7);
            color: white;
            border: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            font-size: 12px;
            cursor: pointer;
        }

        /* Notification Modal */
        .notification-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1003;
            overflow-y: auto;
        }

        .notification-modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .notification-content {
            background: white;
            width: 90%;
            max-width: 500px;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .notification-header {
            background: var(--primary);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .notification-body {
            padding: 30px;
        }

        .notification-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .notification-item:last-child {
            border-bottom: none;
        }

        .notification-info h4 {
            margin-bottom: 5px;
            color: var(--primary);
        }

        .notification-time {
            font-size: 12px;
            color: #777;
        }

        .notification-status {
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-new {
            background: #e3f2fd;
            color: #1976d2;
        }

        .status-processing {
            background: #fff3e0;
            color: #f57c00;
        }

        .status-shipped {
            background: #e8f5e9;
            color: #388e3c;
        }

        /* Login/Register Modal */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1004;
            overflow-y: auto;
        }

        .auth-modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .auth-content {
            background: white;
            width: 90%;
            max-width: 400px;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .auth-tabs {
            display: flex;
            background: var(--primary);
        }

        .auth-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            color: white;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .auth-tab.active {
            background: var(--accent);
        }

        .auth-form {
            padding: 30px;
        }

        .auth-form h3 {
            margin-bottom: 20px;
            color: var(--primary);
            text-align: center;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .hero h2 {
                font-size: 38px;
            }
            
            .product-detail-container {
                grid-template-columns: 1fr;
            }
            
            .checkout-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
            
            nav {
                position: fixed;
                top: 70px;
                left: 0;
                width: 100%;
                background-color: var(--primary);
                flex-direction: column;
                align-items: center;
                padding: 20px 0;
                box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
                transform: translateY(-100%);
                opacity: 0;
                transition: all 0.3s;
                z-index: 999;
            }
            
            nav.active {
                transform: translateY(0);
                opacity: 1;
            }
            
            nav ul {
                flex-direction: column;
                width: 100%;
            }
            
            nav li {
                margin: 15px 0;
                text-align: center;
            }
            
            .hero h2 {
                font-size: 32px;
            }
            
            .hero p {
                font-size: 18px;
                padding: 0 20px;
            }
            
            .whatsapp-header {
                padding: 6px 12px;
                font-size: 14px;
            }
            
            .top-bar {
                display: none;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .product-detail-images {
                grid-template-columns: 1fr;
            }
            
            .product-thumbnails {
                flex-direction: row;
                overflow-x: auto;
            }
            
            .product-thumbnail {
                width: 80px;
                height: 80px;
            }
        }

        @media (max-width: 480px) {
            .hero {
                padding: 80px 0;
            }
            
            .hero h2 {
                font-size: 28px;
            }
            
            .section-title h2 {
                font-size: 28px;
            }
            
            .upload-container,
            .checkout-form,
            .order-summary {
                padding: 20px;
            }
            
            .payment-methods {
                grid-template-columns: 1fr;
            }
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background-color: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            z-index: 999;
        }

        .back-to-top.active {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background-color: var(--primary);
            transform: translateY(-5px);
        }
    </style>
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container top-bar-content">
            <div class="top-bar-info">
                <a href="tel:+233537137623"><i class="fas fa-phone"></i> +233 53 713 7623</a>
                <a href="mailto:bervelljames526@gmail.com"><i class="fas fa-envelope"></i> bervelljames526@gmail.com</a>
                <span><i class="fas fa-map-marker-alt"></i> Jubilee Hall, University of Ghana</span>
            </div>
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="https://wa.me/233537137623" target="_blank"><i class="fab fa-whatsapp"></i></a>
            </div>
        </div>
    </div>

    <!-- Discount Banner -->
    <div class="discount-banner">
        <p>ðŸŽ‰ FREE DELIVERY ON CAMPUS | ORDER VIA WHATSAPP +233 53 713 7623 ðŸŽ‰</p>
    </div>

    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-store"></i>
                </div>
                <h1>JB'S <span>ONE-STOP</span> SHOP</h1>
            </div>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav id="mainNav">
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#categories">Categories</a></li>
                    <li><a href="#products">Products</a></li>
                    <li><a href="#upload" id="uploadLink">Upload</a></li>
                    <li><a href="#admin" id="adminLink">Admin</a></li>
                </ul>
            </nav>
            
            <div class="header-actions">
                <div class="notification-bell" id="notificationBell">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">3</span>
                </div>
                
                <div class="user-menu">
                    <button class="user-btn" id="userBtn">
                        <i class="fas fa-user"></i>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="#" id="loginLink"><i class="fas fa-sign-in-alt"></i> Login</a>
                        <a href="#" id="registerLink"><i class="fas fa-user-plus"></i> Register</a>
                        <a href="#" id="myOrdersLink"><i class="fas fa-shopping-bag"></i> My Orders</a>
                        <a href="#" id="logoutLink" style="display: none;"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
                
                <a href="https://wa.me/233537137623" class="whatsapp-header" target="_blank">
                    <i class="fab fa-whatsapp"></i> Order
                </a>
                <div class="cart-icon" id="cartIcon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">3</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container hero-content">
            <h2>PREMIUM MEN'S <span>ESSENTIALS</span></h2>
            <p>Your ultimate destination for quality shirts, jewelry, grooming products, and phone accessories. All in one place, all for the modern man.</p>
            <a href="#categories" class="cta-button">Shop Now</a>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="container" id="categories">
        <div class="section-title">
            <h2>Shop Categories</h2>
        </div>
        <div class="categories">
            <div class="category-card">
                <img src="https://images.unsplash.com/photo-1596755094514-f87e34085b2c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80" alt="Men's Shirts" class="category-img">
                <div class="category-content">
                    <h3>Men's Shirts</h3>
                    <p>From casual tees to formal shirts, find your perfect fit and style.</p>
                    <a href="#" class="category-button">Browse Collection</a>
                </div>
            </div>
            
            <div class="category-card">
                <img src="https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?ixlib=rb-4.0.3&auto=format&fit=crop&w-1350&q=80" alt="Men's Jewelry" class="category-img">
                <div class="category-content">
                    <h3>Men's Jewelry</h3>
                    <p>Necklaces, bracelets, rings and watches to elevate your look.</p>
                    <a href="#" class="category-button">Browse Collection</a>
                </div>
            </div>
            
            <div class="category-card">
                <img src="https://images.unsplash.com/photo-1526947425960-945c6e72858f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80" alt="Grooming Products" class="category-img">
                <div class="category-content">
                    <h3>Hair & Body Care</h3>
                    <p>Premium grooming products for the modern man's routine.</p>
                    <a href="#" class="category-button">Browse Collection</a>
                </div>
            </div>
            
            <div class="category-card">
                <img src="https://images.unsplash.com/photo-1546054451-aa264e0e2e3c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80" alt="Phone Accessories" class="category-img">
                <div class="category-content">
                    <h3>Phone Accessories</h3>
                    <p>Cases, chargers, earphones and tech essentials for your devices.</p>
                    <a href="#" class="category-button">Browse Collection</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="container" id="products">
        <div class="section-title">
            <h2>Featured Products</h2>
        </div>
        <div class="products">
            <!-- Products will be loaded dynamically -->
        </div>
    </section>

    <!-- Upload Section (Hidden by default) -->
    <section class="upload-container" id="uploadSection" style="display: none;">
        <div class="upload-form">
            <h2>Upload New Product</h2>
            <form id="productUploadForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="productName">Product Name</label>
                        <input type="text" id="productName" required>
                    </div>
                    <div class="form-group">
                        <label for="productPrice">Price (GHS)</label>
                        <input type="number" id="productPrice" required min="1" step="0.01">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="productCategory">Category</label>
                        <select id="productCategory" required>
                            <option value="">Select Category</option>
                            <option value="shirts">Shirts</option>
                            <option value="jewelry">Jewelry</option>
                            <option value="grooming">Hair & Body Care</option>
                            <option value="accessories">Phone Accessories</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="productStock">Stock Quantity</label>
                        <input type="number" id="productStock" required min="1">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="productDescription">Description</label>
                    <textarea id="productDescription" rows="3" required></textarea>
                </div>
                
                <div class="form-group">
                    <label>Available Colors</label>
                    <div class="option-buttons" id="colorOptions">
                        <button type="button" class="option-btn" data-color="black">Black</button>
                        <button type="button" class="option-btn" data-color="white">White</button>
                        <button type="button" class="option-btn" data-color="blue">Blue</button>
                        <button type="button" class="option-btn" data-color="gray">Gray</button>
                        <button type="button" class="option-btn" data-color="red">Red</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Available Sizes</label>
                    <div class="option-buttons" id="sizeOptions">
                        <button type="button" class="option-btn" data-size="S">S</button>
                        <button type="button" class="option-btn" data-size="M">M</button>
                        <button type="button" class="option-btn" data-size="L">L</button>
                        <button type="button" class="option-btn" data-size="XL">XL</button>
                        <button type="button" class="option-btn" data-size="XXL">XXL</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Product Images</label>
                    <div class="upload-area" id="uploadArea">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Click or drag to upload product images</p>
                        <input type="file" id="fileInput" multiple accept="image/*" style="display: none;">
                    </div>
                    <div class="preview-images" id="imagePreview"></div>
                </div>
                
                <button type="submit" class="cta-button" style="width: 100%;">Upload Product</button>
            </form>
        </div>
    </section>

    <!-- Checkout Section (Hidden by default) -->
    <section class="container checkout-container" id="checkoutSection" style="display: none;">
        <div class="checkout-form">
            <h2>Checkout</h2>
            <form id="checkoutForm">
                <div class="form-section">
                    <h3>Shipping Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <input type="text" id="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <input type="text" id="lastName" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="address">Delivery Address</label>
                        <textarea id="address" rows="3" required></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="city">City</label>
                            <input type="text" id="city" required>
                        </div>
                        <div class="form-group">
                            <label for="region">Region</label>
                            <select id="region" required>
                                <option value="">Select Region</option>
                                <option value="greater_accra">Greater Accra</option>
                                <option value="ashanti">Ashanti</option>
                                <option value="eastern">Eastern</option>
                                <option value="central">Central</option>
                                <option value="western">Western</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>Payment Method</h3>
                    <div class="payment-methods">
                        <div class="payment-method mtn" data-method="mtn">
                            <i class="fas fa-mobile-alt"></i>
                            <p>MTN Mobile Money</p>
                        </div>
                        <div class="payment-method telecel" data-method="telecel">
                            <i class="fas fa-mobile-alt"></i>
                            <p>Telecel Cash</p>
                        </div>
                        <div class="payment-method card" data-method="card">
                            <i class="far fa-credit-card"></i>
                            <p>Credit/Debit Card</p>
                        </div>
                        <div class="payment-method bank" data-method="bank">
                            <i class="fas fa-university"></i>
                            <p>Bank Transfer</p>
                        </div>
                    </div>
                    <input type="hidden" id="paymentMethod" required>
                    
                    <div class="form-group" id="mobileMoneyFields" style="display: none;">
                        <label for="mobileNumber">Mobile Money Number</label>
                        <input type="tel" id="mobileNumber">
                    </div>
                    
                    <div class="form-group" id="cardFields" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cardNumber">Card Number</label>
                                <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456">
                            </div>
                            <div class="form-group">
                                <label for="expiry">Expiry Date</label>
                                <input type="text" id="expiry" placeholder="MM/YY">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cvv">CVV</label>
                            <input type="text" id="cvv" placeholder="123">
                        </div>
                    </div>
                    
                    <div class="delivery-estimate">
                        <i class="fas fa-truck"></i>
                        <span id="deliveryTime">Estimated delivery: 2-3 business days for Accra, 3-5 days for other regions</span>
                    </div>
                </div>
                
                <button type="submit" class="cta-button" style="width: 100%;">Place Order</button>
            </form>
        </div>
        
        <div class="order-summary" id="orderSummary">
            <h3>Order Summary</h3>
            <div id="checkoutItems"></div>
            <div class="summary-total">
                <span>Total:</span>
                <span id="checkoutTotal">GHS 0.00</span>
            </div>
            <div class="delivery-estimate">
                <i class="fas fa-info-circle"></i>
                <span>Delivery times: UG Campus (Same day), Accra (1-2 days), Other regions (3-5 days)</span>
            </div>
        </div>
    </section>

    <!-- Product Detail Modal -->
    <div class="product-modal" id="productModal">
        <div class="product-modal-content">
            <button class="close-modal" id="closeModal">&times;</button>
            <div class="product-detail-container" id="productDetail">
                <!-- Product details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-header">
            <h3>Your Shopping Cart</h3>
            <button class="close-cart" id="closeCart">&times;</button>
        </div>
        
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be added here dynamically -->
        </div>
        
        <div class="cart-total">
            <span>Total:</span>
            <span id="cartTotal">GHS 0.00</span>
        </div>
        
        <button class="checkout-btn" id="goToCheckout">Proceed to Checkout</button>
    </div>

    <!-- Notification Modal -->
    <div class="notification-modal" id="notificationModal">
        <div class="notification-content">
            <div class="notification-header">
                <h3>Order Notifications</h3>
            </div>
            <div class="notification-body" id="notificationsList">
                <!-- Notifications will be added here -->
            </div>
        </div>
    </div>

    <!-- Login/Register Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-content">
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Login</button>
                <button class="auth-tab" data-tab="register">Register</button>
            </div>
            
            <div class="auth-form" id="loginForm">
                <h3>Login to Your Account</h3>
                <form id="loginFormData">
                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <button type="submit" class="cta-button" style="width: 100%;">Login</button>
                </form>
            </div>
            
            <div class="auth-form" id="registerForm" style="display: none;">
                <h3>Create New Account</h3>
                <form id="registerFormData">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="regFirstName">First Name</label>
                            <input type="text" id="regFirstName" required>
                        </div>
                        <div class="form-group">
                            <label for="regLastName">Last Name</label>
                            <input type="text" id="regLastName" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="regEmail">Email</label>
                        <input type="email" id="regEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="regPhone">Phone Number</label>
                        <input type="tel" id="regPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="regPassword">Password</label>
                        <input type="password" id="regPassword" required>
                    </div>
                    <div class="form-group">
                        <label for="regConfirmPassword">Confirm Password</label>
                        <input type="password" id="regConfirmPassword" required>
                    </div>
                    <button type="submit" class="cta-button" style="width: 100%;">Create Account</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </div>

    <script>
        // Global Variables
        let currentUser = null;
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let products = JSON.parse(localStorage.getItem('products')) || [];
        let notifications = JSON.parse(localStorage.getItem('notifications')) || [];
        let users = JSON.parse(localStorage.getItem('users')) || [];

        // Initialize with sample data if empty
        if (products.length === 0) {
            products = [
                {
                    id: 1,
                    name: "Premium Cotton Polo",
                    price: 120,
                    category: "shirts",
                    description: "High-quality cotton polo shirt with comfortable fit.",
                    colors: ["black", "blue", "white"],
                    sizes: ["S", "M", "L", "XL"],
                    images: [
                        "https://images.unsplash.com/photo-1523381210434-271e8be1f52b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80",
                        "https://images.unsplash.com/photo-1596755094514-f87e34085b2c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"
                    ],
                    stock: 25,
                    rating: 4.5,
                    reviews: 24
                },
                {
                    id: 2,
                    name: "Leather & Steel Bracelet",
                    price: 85,
                    category: "jewelry",
                    description: "Handcrafted leather bracelet with steel accents.",
                    colors: ["brown", "black"],
                    sizes: ["One Size"],
                    images: [
                        "https://images.unsplash.com/photo-1552902865-b72c031ac5ea?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"
                    ],
                    stock: 15,
                    rating: 4.2,
                    reviews: 18
                },
                {
                    id: 3,
                    name: "Premium Beard Oil Set",
                    price: 65,
                    category: "grooming",
                    description: "Natural beard oil for conditioning and styling.",
                    colors: ["brown"],
                    sizes: ["50ml"],
                    images: [
                        "https://images.unsplash.com/photo-1560743173-567a3b5658b1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"
                    ],
                    stock: 30,
                    rating: 5,
                    reviews: 32
                },
                {
                    id: 4,
                    name: "Rugged Phone Case",
                    price: 45,
                    category: "accessories",
                    description: "Durable phone case with shock absorption.",
                    colors: ["black", "blue", "red"],
                    sizes: ["iPhone", "Samsung", "Other"],
                    images: [
                        "https://images.unsplash.com/photo-1546868871-7041f2a55e12?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80"
                    ],
                    stock: 50,
                    rating: 4.7,
                    reviews: 41
                }
            ];
            localStorage.setItem('products', JSON.stringify(products));
        }

        if (notifications.length === 0) {
            notifications = [
                { id: 1, type: 'order', message: 'New order from Kwame Mensah', time: '2 hours ago', status: 'new' },
                { id: 2, type: 'order', message: 'Order #1234 is being processed', time: '1 day ago', status: 'processing' },
                { id: 3, type: 'order', message: 'Order #1233 has been shipped', time: '2 days ago', status: 'shipped' }
            ];
            localStorage.setItem('notifications', JSON.stringify(notifications));
        }

        // DOM Elements
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mainNav = document.getElementById('mainNav');
        const cartIcon = document.getElementById('cartIcon');
        const cartModal = document.getElementById('cartModal');
        const closeCart = document.getElementById('closeCart');
        const cartItems = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');
        const cartCount = document.querySelector('.cart-count');
        const notificationBell = document.getElementById('notificationBell');
        const notificationModal = document.getElementById('notificationModal');
        const notificationsList = document.getElementById('notificationsList');
        const notificationCount = document.getElementById('notificationCount');
        const userBtn = document.getElementById('userBtn');
        const userDropdown = document.getElementById('userDropdown');
        const loginLink = document.getElementById('loginLink');
        const registerLink = document.getElementById('registerLink');
        const authModal = document.getElementById('authModal');
        const uploadLink = document.getElementById('uploadLink');
        const uploadSection = document.getElementById('uploadSection');
        const productsSection = document.getElementById('products');
        const productsContainer = document.querySelector('.products');
        const productModal = document.getElementById('productModal');
        const closeModal = document.getElementById('closeModal');
        const productDetail = document.getElementById('productDetail');
        const goToCheckout = document.getElementById('goToCheckout');
        const checkoutSection = document.getElementById('checkoutSection');
        const checkoutItems = document.getElementById('checkoutItems');
        const checkoutTotal = document.getElementById('checkoutTotal');
        const orderSummary = document.getElementById('orderSummary');
        const backToTop = document.getElementById('backToTop');

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateCartDisplay();
            updateNotificationCount();
            loadProducts();
            setupEventListeners();
            checkLoginStatus();
        });

        // Setup Event Listeners
        function setupEventListeners() {
            // Mobile Menu Toggle
            mobileMenuBtn.addEventListener('click', () => {
                mainNav.classList.toggle('active');
            });

            // Close mobile menu when clicking on a link
            document.querySelectorAll('nav a').forEach(link => {
                link.addEventListener('click', () => {
                    mainNav.classList.remove('active');
                });
            });

            // Cart functionality
            cartIcon.addEventListener('click', () => {
                cartModal.classList.add('active');
                updateCartDisplay();
            });

            closeCart.addEventListener('click', () => {
                cartModal.classList.remove('active');
            });

            // Close cart modal when clicking outside
            document.addEventListener('click', (e) => {
                if (!cartModal.contains(e.target) && !cartIcon.contains(e.target) && cartModal.classList.contains('active')) {
                    cartModal.classList.remove('active');
                }
            });

            // Notifications
            notificationBell.addEventListener('click', () => {
                notificationModal.classList.add('active');
                loadNotifications();
            });

            // Close notification modal when clicking outside
            notificationModal.addEventListener('click', (e) => {
                if (e.target === notificationModal) {
                    notificationModal.classList.remove('active');
                }
            });

            // User dropdown
            userBtn.addEventListener('click', () => {
                userDropdown.classList.toggle('active');
            });

            // Close user dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!userDropdown.contains(e.target) && !userBtn.contains(e.target)) {
                    userDropdown.classList.remove('active');
                }
            });

            // Auth modals
            loginLink.addEventListener('click', (e) => {
                e.preventDefault();
                authModal.classList.add('active');
                showAuthTab('login');
            });

            registerLink.addEventListener('click', (e) => {
                e.preventDefault();
                authModal.classList.add('active');
                showAuthTab('register');
            });

            // Close auth modal
            authModal.addEventListener('click', (e) => {
                if (e.target === authModal) {
                    authModal.classList.remove('active');
                }
            });

            // Auth tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabName = tab.getAttribute('data-tab');
                    showAuthTab(tabName);
                });
            });

            // Login form
            document.getElementById('loginFormData').addEventListener('submit', handleLogin);
            
            // Register form
            document.getElementById('registerFormData').addEventListener('submit', handleRegister);

            // Upload link
            uploadLink.addEventListener('click', (e) => {
                e.preventDefault();
                uploadSection.style.display = 'block';
                productsSection.style.display = 'none';
                checkoutSection.style.display = 'none';
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // Product upload form
            document.getElementById('productUploadForm').addEventListener('submit', handleProductUpload);

            // Image upload
            document.getElementById('uploadArea').addEventListener('click', () => {
                document.getElementById('fileInput').click();
            });

            document.getElementById('fileInput').addEventListener('change', handleImageUpload);

            // Color and size selection
            document.querySelectorAll('#colorOptions .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.classList.toggle('active');
                });
            });

            document.querySelectorAll('#sizeOptions .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.classList.toggle('active');
                });
            });

            // Checkout
            goToCheckout.addEventListener('click', () => {
                if (cart.length === 0) {
                    alert('Your cart is empty!');
                    return;
                }
                cartModal.classList.remove('active');
                checkoutSection.style.display = 'grid';
                uploadSection.style.display = 'none';
                productsSection.style.display = 'none';
                updateCheckoutDisplay();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // Payment method selection
            document.querySelectorAll('.payment-method').forEach(method => {
                method.addEventListener('click', function() {
                    document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById('paymentMethod').value = this.getAttribute('data-method');
                    
                    // Show/hide additional fields
                    document.getElementById('mobileMoneyFields').style.display = 'none';
                    document.getElementById('cardFields').style.display = 'none';
                    
                    if (this.getAttribute('data-method') === 'mtn' || this.getAttribute('data-method') === 'telecel') {
                        document.getElementById('mobileMoneyFields').style.display = 'block';
                    } else if (this.getAttribute('data-method') === 'card') {
                        document.getElementById('cardFields').style.display = 'block';
                    }
                });
            });

            // Checkout form
            document.getElementById('checkoutForm').addEventListener('submit', handleCheckout);

            // Region change for delivery estimate
            document.getElementById('region').addEventListener('change', function() {
                const region = this.value;
                let deliveryTime = '';
                
                if (region === 'greater_accra') {
                    deliveryTime = 'Estimated delivery: 1-2 business days';
                } else if (region === 'ashanti') {
                    deliveryTime = 'Estimated delivery: 2-3 business days';
                } else {
                    deliveryTime = 'Estimated delivery: 3-5 business days';
                }
                
                document.getElementById('deliveryTime').textContent = deliveryTime;
            });

            // Back to top
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    backToTop.classList.add('active');
                } else {
                    backToTop.classList.remove('active');
                }
            });

            backToTop.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    if (targetId === '#home' || targetId === '#categories' || targetId === '#products') {
                        uploadSection.style.display = 'none';
                        checkoutSection.style.display = 'none';
                        productsSection.style.display = 'block';
                    }
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        // Load Products
        function loadProducts() {
            productsContainer.innerHTML = '';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-badge">NEW</div>
                    <img src="${product.images[0]}" alt="${product.name}" class="product-img">
                    <div class="product-content">
                        <div class="product-category">${getCategoryName(product.category)}</div>
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-rating">
                            ${generateStars(product.rating)} (${product.reviews})
                        </div>
                        <div class="product-price">GHS ${product.price.toFixed(2)}</div>
                        <button class="add-to-cart" data-product-id="${product.id}">Add to Cart</button>
                        <button class="view-details" data-product-id="${product.id}" style="margin-top: 10px; background: var(--light); color: var(--text); border: none; padding: 10px 20px; border-radius: 4px; width: 100%; cursor: pointer;">View Details</button>
                    </div>
                `;
                
                productsContainer.appendChild(productCard);
            });

            // Add event listeners to new buttons
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-product-id'));
                    addToCart(productId);
                });
            });

            document.querySelectorAll('.view-details').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-product-id'));
                    showProductDetails(productId);
                });
            });
        }

        // Generate star rating
        function generateStars(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const halfStar = rating % 1 >= 0.5;
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }
            
            if (halfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }
            
            const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }
            
            return stars;
        }

        // Get category name
        function getCategoryName(category) {
            const categories = {
                'shirts': 'Shirts',
                'jewelry': 'Jewelry',
                'grooming': 'Grooming',
                'accessories': 'Accessories'
            };
            return categories[category] || category;
        }

        // Add to Cart
        function addToCart(productId, color = null, size = null, quantity = 1) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const cartItem = {
                id: product.id,
                name: product.name,
                price: product.price,
                color: color || (product.colors ? product.colors[0] : null),
                size: size || (product.sizes ? product.sizes[0] : null),
                quantity: quantity,
                image: product.images[0]
            };

            // Check if item already exists in cart
            const existingIndex = cart.findIndex(item => 
                item.id === product.id && 
                item.color === cartItem.color && 
                item.size === cartItem.size
            );

            if (existingIndex !== -1) {
                cart[existingIndex].quantity += quantity;
            } else {
                cart.push(cartItem);
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            
            // Show notification
            showNotification(`${product.name} added to cart!`);
        }

        // Update Cart Display
        function updateCartDisplay() {
            cartItems.innerHTML = '';
            
            let total = 0;
            let itemCount = 0;
            
            cart.forEach((item, index) => {
                total += item.price * item.quantity;
                itemCount += item.quantity;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <img src="${item.image}" class="cart-item-img" alt="${item.name}">
                    <div class="cart-item-details">
                        <div class="cart-item-title">${item.name}</div>
                        <div class="cart-item-meta" style="font-size: 14px; color: #777; margin-bottom: 5px;">
                            ${item.color ? `${item.color}, ` : ''}${item.size ? `Size: ${item.size}` : ''}
                        </div>
                        <div class="cart-item-quantity" style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                            <button class="quantity-decrease" data-index="${index}" style="width: 25px; height: 25px; border: 1px solid #ddd; background: #f5f5f5; border-radius: 3px;">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-increase" data-index="${index}" style="width: 25px; height: 25px; border: 1px solid #ddd; background: #f5f5f5; border-radius: 3px;">+</button>
                        </div>
                        <div class="cart-item-price">GHS ${(item.price * item.quantity).toFixed(2)}</div>
                    </div>
                    <button class="remove-item" data-index="${index}" style="background: none; border: none; color: #e74c3c; cursor: pointer; margin-left: 10px;">
                        <i class="fas fa-trash"></i>
                    </button>
                `;
                
                cartItems.appendChild(cartItem);
            });
            
            // Update total and count
            cartTotal.textContent = `GHS ${total.toFixed(2)}`;
            cartCount.textContent = itemCount;
            
            // Add event listeners for quantity buttons
            document.querySelectorAll('.quantity-decrease').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    updateQuantity(index, -1);
                });
            });
            
            document.querySelectorAll('.quantity-increase').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    updateQuantity(index, 1);
                });
            });
            
            // Add event listeners for remove buttons
            document.querySelectorAll('.remove-item').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    removeFromCart(index);
                });
            });
        }

        // Update Quantity
        function updateQuantity(index, change) {
            if (index >= 0 && index < cart.length) {
                cart[index].quantity += change;
                
                if (cart[index].quantity <= 0) {
                    cart.splice(index, 1);
                }
                
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartDisplay();
            }
        }

        // Remove from Cart
        function removeFromCart(index) {
            if (index >= 0 && index < cart.length) {
                const removedItem = cart[index];
                cart.splice(index, 1);
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartDisplay();
                
                // Show notification
                showNotification(`${removedItem.name} removed from cart`);
            }
        }

        // Show Product Details
        function showProductDetails(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            // Get related products (same category, excluding current)
            const relatedProducts = products.filter(p => 
                p.category === product.category && p.id !== product.id
            ).slice(0, 4);

            productDetail.innerHTML = `
                <div class="product-detail-images">
                    <div class="product-thumbnails">
                        ${product.images.map((img, index) => `
                            <img src="${img}" class="product-thumbnail ${index === 0 ? 'active' : ''}" data-index="${index}">
                        `).join('')}
                    </div>
                    <div class="product-main-image-container">
                        <img src="${product.images[0]}" class="product-main-image" id="mainProductImage">
                    </div>
                </div>
                <div class="product-detail-info">
                    <h2>${product.name}</h2>
                    <div class="product-price-large">GHS ${product.price.toFixed(2)}</div>
                    <div class="product-rating">
                        ${generateStars(product.rating)} (${product.reviews} reviews)
                    </div>
                    <p>${product.description}</p>
                    
                    ${product.colors && product.colors.length > 0 ? `
                    <div class="product-options">
                        <div class="option-group">
                            <h4>Color</h4>
                            <div class="option-buttons" id="detailColorOptions">
                                ${product.colors.map(color => `
                                    <button type="button" class="option-btn ${color === product.colors[0] ? 'active' : ''}" data-color="${color}">${color.charAt(0).toUpperCase() + color.slice(1)}</button>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                    ` : ''}
                    
                    ${product.sizes && product.sizes.length > 0 ? `
                    <div class="product-options">
                        <div class="option-group">
                            <h4>Size</h4>
                            <div class="option-buttons" id="detailSizeOptions">
                                ${product.sizes.map(size => `
                                    <button type="button" class="option-btn ${size === product.sizes[0] ? 'active' : ''}" data-size="${size}">${size}</button>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                    ` : ''}
                    
                    <div class="product-options">
                        <div class="option-group">
                            <h4>Quantity</h4>
                            <div class="quantity-selector">
                                <button class="quantity-btn" id="decreaseQty">-</button>
                                <input type="number" class="quantity-input" id="productQty" value="1" min="1" max="${product.stock}">
                                <button class="quantity-btn" id="increaseQty">+</button>
                            </div>
                            <small style="color: #777; display: block; margin-top: 5px;">${product.stock} items in stock</small>
                        </div>
                    </div>
                    
                    <button class="cta-button" id="addToCartDetail" style="width: 100%; margin-top: 20px;">Add to Cart - GHS ${product.price.toFixed(2)}</button>
                    
                    ${relatedProducts.length > 0 ? `
                    <div class="related-products">
                        <h3>You May Also Like</h3>
                        <div class="related-products-grid">
                            ${relatedProducts.map(p => `
                                <div class="product-card" style="box-shadow: none;">
                                    <img src="${p.images[0]}" alt="${p.name}" style="height: 150px;">
                                    <div style="padding: 10px;">
                                        <h4 style="font-size: 16px; margin-bottom: 5px;">${p.name}</h4>
                                        <div style="color: var(--accent); font-weight: bold;">GHS ${p.price.toFixed(2)}</div>
                                        <button class="view-related" data-id="${p.id}" style="margin-top: 10px; padding: 8px 15px; background: var(--secondary); color: white; border: none; border-radius: 4px; width: 100%; cursor: pointer;">View</button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    ` : ''}
                </div>
            `;

            productModal.classList.add('active');

            // Add event listeners for thumbnail images
            document.querySelectorAll('.product-thumbnail').forEach(thumb => {
                thumb.addEventListener('click', function() {
                    const index = this.getAttribute('data-index');
                    document.getElementById('mainProductImage').src = product.images[index];
                    
                    document.querySelectorAll('.product-thumbnail').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Add event listeners for color and size options
            if (product.colors && product.colors.length > 0) {
                document.querySelectorAll('#detailColorOptions .option-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        document.querySelectorAll('#detailColorOptions .option-btn').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                    });
                });
            }

            if (product.sizes && product.sizes.length > 0) {
                document.querySelectorAll('#detailSizeOptions .option-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        document.querySelectorAll('#detailSizeOptions .option-btn').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                    });
                });
            }

            // Quantity buttons
            document.getElementById('decreaseQty').addEventListener('click', () => {
                const qtyInput = document.getElementById('productQty');
                let qty = parseInt(qtyInput.value);
                if (qty > 1) qtyInput.value = qty - 1;
            });

            document.getElementById('increaseQty').addEventListener('click', () => {
                const qtyInput = document.getElementById('productQty');
                let qty = parseInt(qtyInput.value);
                if (qty < product.stock) qtyInput.value = qty + 1;
            });

            // Add to cart button
            document.getElementById('addToCartDetail').addEventListener('click', () => {
                const selectedColor = product.colors && product.colors.length > 0 
                    ? document.querySelector('#detailColorOptions .option-btn.active')?.getAttribute('data-color') 
                    : null;
                
                const selectedSize = product.sizes && product.sizes.length > 0
                    ? document.querySelector('#detailSizeOptions .option-btn.active')?.getAttribute('data-size')
                    : null;
                
                const quantity = parseInt(document.getElementById('productQty').value);
                
                addToCart(product.id, selectedColor, selectedSize, quantity);
                productModal.classList.remove('active');
            });

            // Related products
            document.querySelectorAll('.view-related').forEach(btn => {
                btn.addEventListener('click', function() {
                    const relatedId = parseInt(this.getAttribute('data-id'));
                    productModal.classList.remove('active');
                    setTimeout(() => showProductDetails(relatedId), 300);
                });
            });
        }

        // Close Modal
        closeModal.addEventListener('click', () => {
            productModal.classList.remove('active');
        });

        // Update Checkout Display
        function updateCheckoutDisplay() {
            checkoutItems.innerHTML = '';
            
            let subtotal = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                const itemElement = document.createElement('div');
                itemElement.className = 'summary-item';
                itemElement.innerHTML = `
                    <div>
                        <div style="font-weight: 600;">${item.name}</div>
                        <div style="font-size: 14px; color: #777;">
                            ${item.color ? `${item.color}, ` : ''}${item.size ? `Size: ${item.size}` : ''} Ã— ${item.quantity}
                        </div>
                    </div>
                    <div>GHS ${itemTotal.toFixed(2)}</div>
                `;
                
                checkoutItems.appendChild(itemElement);
            });
            
            // Add shipping
            const shipping = subtotal > 200 ? 0 : 20;
            const total = subtotal + shipping;
            
            checkoutItems.innerHTML += `
                <div class="summary-item">
                    <div>Subtotal</div>
                    <div>GHS ${subtotal.toFixed(2)}</div>
                </div>
                <div class="summary-item">
                    <div>Shipping</div>
                    <div>${shipping === 0 ? 'FREE' : `GHS ${shipping.toFixed(2)}`}</div>
                </div>
            `;
            
            checkoutTotal.textContent = `GHS ${total.toFixed(2)}`;
            
            // Update delivery estimate
            const region = document.getElementById('region').value;
            let deliveryDays = '';
            
            if (region === 'greater_accra') {
                deliveryDays = '1-2 business days';
            } else if (region === 'ashanti') {
                deliveryDays = '2-3 business days';
            } else if (region) {
                deliveryDays = '3-5 business days';
            } else {
                deliveryDays = '2-3 business days for Accra, 3-5 days for other regions';
            }
            
            document.getElementById('deliveryTime').textContent = `Estimated delivery: ${deliveryDays}`;
        }

        // Handle Checkout
        function handleCheckout(e) {
            e.preventDefault();
            
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }
            
            const paymentMethod = document.getElementById('paymentMethod').value;
            if (!paymentMethod) {
                alert('Please select a payment method');
                return;
            }
            
            // Create order
            const order = {
                id: Date.now(),
                customer: {
                    name: document.getElementById('firstName').value + ' ' + document.getElementById('lastName').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    address: document.getElementById('address').value,
                    city: document.getElementById('city').value,
                    region: document.getElementById('region').value
                },
                items: [...cart],
                total: parseFloat(checkoutTotal.textContent.replace('GHS ', '')),
                paymentMethod: paymentMethod,
                status: 'pending',
                date: new Date().toISOString(),
                estimatedDelivery: getDeliveryDate(document.getElementById('region').value)
            };
            
            // Save order
            let orders = JSON.parse(localStorage.getItem('orders')) || [];
            orders.push(order);
            localStorage.setItem('orders', JSON.stringify(orders));
            
            // Add notification for admin
            const notification = {
                id: Date.now(),
                type: 'order',
                message: `New order #${order.id} from ${order.customer.name}`,
                time: 'Just now',
                status: 'new',
                orderId: order.id
            };
            
            notifications.unshift(notification);
            localStorage.setItem('notifications', JSON.stringify(notifications));
            updateNotificationCount();
            
            // Clear cart
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            
            // Show success message
            alert(`Order placed successfully!\n\nOrder #${order.id}\nTotal: GHS ${order.total.toFixed(2)}\nEstimated Delivery: ${order.estimatedDelivery}\n\nWe will contact you on WhatsApp to confirm payment.`);
            
            // Reset form and go back to products
            e.target.reset();
            checkoutSection.style.display = 'none';
            productsSection.style.display = 'block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Get delivery date estimate
        function getDeliveryDate(region) {
            const today = new Date();
            let daysToAdd = 3; // Default
            
            if (region === 'greater_accra') {
                daysToAdd = 2;
            } else if (region === 'ashanti') {
                daysToAdd = 3;
            } else if (region) {
                daysToAdd = 5;
            }
            
            const deliveryDate = new Date(today);
            deliveryDate.setDate(today.getDate() + daysToAdd);
            
            // Format date
            return deliveryDate.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
        }

        // Handle Login
        function handleLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simple validation
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                
                // Update UI
                document.getElementById('loginLink').style.display = 'none';
                document.getElementById('registerLink').style.display = 'none';
                document.getElementById('logoutLink').style.display = 'block';
                document.getElementById('myOrdersLink').style.display = 'block';
                
                authModal.classList.remove('active');
                showNotification(`Welcome back, ${user.firstName}!`);
            } else {
                alert('Invalid email or password');
            }
        }

        // Handle Register
        function handleRegister(e) {
            e.preventDefault();
            
            const firstName = document.getElementById('regFirstName').value;
            const lastName = document.getElementById('regLastName').value;
            const email = document.getElementById('regEmail').value;
            const phone = document.getElementById('regPhone').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            
            // Validation
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }
            
            // Check if user already exists
            if (users.find(u => u.email === email)) {
                alert('Email already registered');
                return;
            }
            
            // Create new user
            const newUser = {
                id: Date.now(),
                firstName,
                lastName,
                email,
                phone,
                password,
                dateJoined: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            // Auto login
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            // Update UI
            document.getElementById('loginLink').style.display = 'none';
            document.getElementById('registerLink').style.display = 'none';
            document.getElementById('logoutLink').style.display = 'block';
            document.getElementById('myOrdersLink').style.display = 'block';
            
            authModal.classList.remove('active');
            showNotification(`Account created successfully! Welcome, ${firstName}!`);
        }

        // Check Login Status
        function checkLoginStatus() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                document.getElementById('loginLink').style.display = 'none';
                document.getElementById('registerLink').style.display = 'none';
                document.getElementById('logoutLink').style.display = 'block';
                document.getElementById('myOrdersLink').style.display = 'block';
            }
            
            // Logout functionality
            document.getElementById('logoutLink').addEventListener('click', (e) => {
                e.preventDefault();
                currentUser = null;
                localStorage.removeItem('currentUser');
                
                document.getElementById('loginLink').style.display = 'block';
                document.getElementById('registerLink').style.display = 'block';
                document.getElementById('logoutLink').style.display = 'none';
                document.getElementById('myOrdersLink').style.display = 'none';
                
                showNotification('Logged out successfully');
            });
        }

        // Show Auth Tab
        function showAuthTab(tabName) {
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelector(`.auth-tab[data-tab="${tabName}"]`).classList.add('active');
            
            if (tabName === 'login') {
                document.getElementById('loginForm').style.display = 'block';
                document.getElementById('registerForm').style.display = 'none';
            } else {
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('registerForm').style.display = 'block';
            }
        }

        // Handle Product Upload
        function handleProductUpload(e) {
            e.preventDefault();
            
            const name = document.getElementById('productName').value;
            const price = parseFloat(document.getElementById('productPrice').value);
            const category = document.getElementById('productCategory').value;
            const stock = parseInt(document.getElementById('productStock').value);
            const description = document.getElementById('productDescription').value;
            
            // Get selected colors
            const selectedColors = [];
            document.querySelectorAll('#colorOptions .option-btn.active').forEach(btn => {
                selectedColors.push(btn.getAttribute('data-color'));
            });
            
            // Get selected sizes
            const selectedSizes = [];
            document.querySelectorAll('#sizeOptions .option-btn.active').forEach(btn => {
                selectedSizes.push(btn.getAttribute('data-size'));
            });
            
            // Get uploaded images (in real app, these would be uploaded to server)
            const imageElements = document.querySelectorAll('#imagePreview img');
            const images = Array.from(imageElements).map(img => img.src).filter(src => src.startsWith('data:'));
            
            if (images.length === 0) {
                alert('Please upload at least one product image');
                return;
            }
            
            // Create new product
            const newProduct = {
                id: products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1,
                name,
                price,
                category,
                description,
                colors: selectedColors,
                sizes: selectedSizes,
                images: images,
                stock,
                rating: 0,
                reviews: 0
            };
            
            products.push(newProduct);
            localStorage.setItem('products', JSON.stringify(products));
            
            // Reset form
            e.target.reset();
            document.getElementById('imagePreview').innerHTML = '';
            document.querySelectorAll('#colorOptions .option-btn, #sizeOptions .option-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Reload products
            loadProducts();
            
            // Show success message
            showNotification(`Product "${name}" uploaded successfully!`);
            
            // Switch to products view
            uploadSection.style.display = 'none';
            productsSection.style.display = 'block';
        }

        // Handle Image Upload
        function handleImageUpload(e) {
            const files = e.target.files;
            const preview = document.getElementById('imagePreview');
            
            for (let file of files) {
                if (!file.type.startsWith('image/')) continue;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const imageContainer = document.createElement('div');
                    imageContainer.className = 'preview-image';
                    imageContainer.innerHTML = `
                        <img src="${e.target.result}" alt="Preview">
                        <button type="button" class="remove-image">&times;</button>
                    `;
                    
                    preview.appendChild(imageContainer);
                    
                    // Add remove functionality
                    imageContainer.querySelector('.remove-image').addEventListener('click', function() {
                        imageContainer.remove();
                    });
                };
                reader.readAsDataURL(file);
            }
        }

        // Load Notifications
        function loadNotifications() {
            notificationsList.innerHTML = '';
            
            notifications.forEach(notification => {
                const notificationElement = document.createElement('div');
                notificationElement.className = 'notification-item';
                notificationElement.innerHTML = `
                    <div class="notification-info">
                        <h4>${notification.message}</h4>
                        <div class="notification-time">${notification.time}</div>
                    </div>
                    <div class="notification-status status-${notification.status}">${notification.status}</div>
                `;
                
                notificationsList.appendChild(notificationElement);
            });
        }

        // Update Notification Count
        function updateNotificationCount() {
            const newNotifications = notifications.filter(n => n.status === 'new').length;
            notificationCount.textContent = newNotifications;
            notificationCount.style.display = newNotifications > 0 ? 'flex' : 'none';
        }

        // Show Notification (toast)
        function showNotification(message) {
            // Create toast element
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--primary);
                color: white;
                padding: 15px 20px;
                border-radius: 5px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 10000;
                animation: slideIn 0.3s ease;
            `;
            
            toast.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-check-circle"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(toast);
            
            // Remove after 3 seconds
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 3000);
        }

        // Add CSS for toast animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
